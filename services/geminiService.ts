import { Category } from "../types";

function pickRandom(arr: string[]) {
  return arr[Math.floor(Math.random() * arr.length)];
}

export async function chatWithFyonka(
  prompt: string,
  category: Category,
  imageBase64?: string
): Promise<string> {
  const text = (prompt || "").trim();

  // ูู ุงููุณุชุฎุฏู ุจุนุช ุตูุฑุฉ
  if (imageBase64) {
    return (
      "ูุง ููุฑ ๐ ุงูุตูุฑุฉ ูุตูุช! ุจุณ ุฏูููุชู ุงูุดุงุช ุดุบุงู ุจุฏูู AI/Keysุ " +
      "ููุด ููุฏุฑ ุฃุญูู ุงูุตูุฑุฉ ุชููุงุฆููุง. ูููููู ุจูู: ุฏู ุฅูุณุณูุงุฑ ููุง ูููุงุฌ ููุง ุนูุงูุฉ ุจุงูุจุดุฑุฉุ โจ"
    );
  }

  if (!text) {
    return "ุงูุชุจู ุณุคุงูู ูุง ุนุณู โจ (ุฅูุณุณูุงุฑุงุช / ูููุงุฌ / ุจุดุฑุฉ) ูุงูุง ุฃูููู ุฑุฃูู.";
  }

  // ุฑุฏูุฏ ุญุณุจ ุงููุณู
  if (category === Category.Accessories) {
    return pickRandom([
      "ูุง ููุฑ โจ ุฃูู 3 ูุตุงูุญ ููุฅูุณุณูุงุฑุงุช: ุงุจุนุฏููุง ุนู ุงูููุฉ/ุงูุจุฑูุงูุ ุฎุฒูููุง ูู ููุณ ููุงุดุ ูุงูุณุญููุง ุจููุทุฉ ูุงุนูุฉ ุจุนุฏ ุงููุจุณ ๐",
      "ูู ุงูุฅูุณุณูุงุฑ ุณุชุงููุณ: ุจูุชุญูู ุฃูุชุฑุ ุจุณ ุจุฑุถู ุงูุจุฑูุงู ุงููุจุงุดุฑ ุจูุจูุช ุงููููโฆ ุฎููู ุขุฎุฑ ุฎุทูุฉ ุจุนุฏ ุงููุจุณ ๐",
      "ุนุงูุฒุฉ ุชุฎุชุงุฑู ูุฏูุฉุ ูููููู ุงูุณู + ุณุชุงูู ุงูุดุฎุต (ูุงุฏุฆ ููุง ูููุช) ูุฃูุง ุฃุฑุดุญูู ุญุงุฌุฉ ุชูุชุญ ุงูููุณ ๐"
    ]);
  }

  if (category === Category.Makeup) {
    return pickRandom([
      "ูุง ุนุณู ๐ ูููููู ููู ุจุดุฑุชู ูุงุชุญ/ููุญู/ุบุงููุ ุนุดุงู ุฃูููู ุฏุฑุฌุงุช ุฑูุฌ ูุจูุงุดุฑ ุชููู ุนูููู โจ",
      "ูู ุนุงูุฒุฉ ููู ุณุฑูุน: BB ูุฑูู ุฎููู + ูุงุณูุงุฑุง + ุจูุงุดุฑ ูุฑุฏู + ููุจ ุฌููุณโฆ ุดูู ุฌุฏูุง ููุตุจุญ ๐",
      "ูุตูุญุฉ ูููุฉ: ุงููุงููุฏูุดู ูุงุฒู ูุชุฌุฑุจ ุนูู ุฎุท ุงููู ูุด ุนูู ุงูุฅูุฏโฆ ุนุดุงู ูุทูุน ููุณ ุฏุฑุฌุฉ ุงูุฑูุจุฉ ๐ธ"
    ]);
  }

  if (category === Category.Skincare) {
    return pickRandom([
      "ูุง ููุฑ ๐ฟ ูููููู ููุน ุจุดุฑุชู: ุฏูููุฉ ููุง ุฌุงูุฉ ููุง ูุฎุชูุทุฉุ ูุฃูุง ุฃุฑุชุจูู ุฑูุชูู ุจุณูุท ุตุจุงุญ/ููู โจ",
      "ุฑูุชูู ุณุฑูุน: ุบุณูู ูุทูู + ูุฑุทุจ + ูุงูู ุดูุณ (ุตุจุงุญูุง). ูุจุงูููู: ุบุณูู + ูุฑุทุจโฆ ุฏู ุฃุณุงุณ ุงูุฌูุงู ูุง ุฑูุญู ๐",
      "ูู ูู ุญุจูุจ: ุจูุงุด ูุนุจ ูููู ๐ ูุงุณุชุฎุฏูู ุบุณูู ูุทูู + ูุฑุทุจ ุฎููู + ูุงูู ุดูุณโฆ ููููููู ุณูู ุนุดุงู ุฃุฑุดุญ ุฎุทูุฉ ุฒูุงุฏุฉ ูู ูููุน."
    ]);
  }

  // ุนุงู
  return pickRandom([
    "ูุง ููุฑ โจ ุงูุชู ุญุงุจุฉ ุชุณุฃูู ูู ุฅูู ุจุงูุธุจุทุ (ุฅูุณุณูุงุฑุงุช / ูููุงุฌ / ุจุดุฑุฉ) ูุฃูุง ูุนุงูู ุฎุทูุฉ ุฎุทูุฉ ๐",
    "ูููููู ูุญุชุงุฌุฉ ุชุฑุดูุญ ูุฏูุฉ ููุง ูุตูุญุฉ ุนูุงูุฉ ููุง ููู ูููุงุฌุ โจ"
  ]);
}
